<div class="diagram-wrapper" style="position:relative;overflow:hidden;border-radius:12px;background:#fff;box-shadow:0 4px 15px rgba(0,0,0,.08);height:560px;"><div class="controls" style="position:absolute;top:12px;right:12px;display:flex;gap:8px;z-index:10;"><button onclick="zoomIn()" type="button">+</button><button onclick="zoomOut()" type="button">-</button><button onclick="resetZoom()" type="button">Reset</button></div><div id="diagramViewport" style="width:100%;height:100%;cursor:grab;overflow:hidden;position:relative;"><img id="diagramImage" src="/content/bloc-4/tema-13/diagrama/diagrama-base.png" alt="Diagrama base" style="transform-origin:0 0;user-select:none;-webkit-user-drag:none;position:absolute;top:0;left:0;" /></div></div><script>(function(){const viewport=document.getElementById('diagramViewport');const image=document.getElementById('diagramImage');if(!viewport||!image)return;let scale=1,x=0,y=0,isDragging=false,startX=0,startY=0;const render=()=>{image.style.transform=`translate(${x}px, ${y}px) scale(${scale})`;};window.zoomIn=()=>{scale=Math.min(3,scale+0.2);render();};window.zoomOut=()=>{scale=Math.max(0.5,scale-0.2);render();};window.resetZoom=()=>{scale=1;x=0;y=0;render();};viewport.addEventListener('mousedown',(e)=>{isDragging=true;startX=e.clientX-x;startY=e.clientY-y;viewport.style.cursor='grabbing';});window.addEventListener('mouseup',()=>{isDragging=false;viewport.style.cursor='grab';});window.addEventListener('mousemove',(e)=>{if(!isDragging)return;x=e.clientX-startX;y=e.clientY-startY;render();});render();})();</script>
